LLMプロンプト埋込用：Python疑似コード記述仕様 V1.1

目的
    本仕様は、Pythonコード内にLLM用プロンプトを構造的に埋め込むための記述ルールを定義する。
    ※本仕様で定義される疑似コードは、Pythonの構文に準拠しつつも、
      LLMによるコード生成を意図した記述であり、そのまま実行可能なコードではありません。

疑似コードの開始と終了
    `PSEUDO CODE START`の記述から`PSEUDO CODE END`までを疑似コードとする

<...> -> メタ情報
    位置別の解釈の方法:
        <...>は任意の位置に置くことができる
        - プロンプトを反映する場所は基本的なpythonの構造に応じて決定する。
        - 関数ブロックの先頭、クラスブロックの先頭、シグネチャ内(宣言/呼び出し)
          コンテキスト式中、右辺値の直中、シグネチャと:の間。などそれに応じた
          場所に反映する。
        - 後ろに出現したプロンプトの方が優先順位が高いものとする
        - ただし、他の部分で、改めて反映する場所が定義されていた場合、それに従う
    アイテム
        key: value:
            値付きの情報
            -値は文字列、識別子、または数値であり、クォートは不要。
        &piyo:
            真であるフラグ (例:&must -> 必ず)
        !piyo:
            偽であるフラグ (例:!must -> オプショナル)
        +piyo:
            AIに対する指示文
            関連する識別子・範囲・定義など(意味的/構造的接続)
            
    - カンマ区切り
    - 順序に意味はない
    - 同じ種類のフラグが重複した場合は最も制限の強い方を優先（例：&must, !must → &mustが優先）
    - <...> メタ情報ブロックは、複数行にわたって記述することができる
      この場合、開き括弧 < と閉じ括弧 > によってブロック全体が囲まれていればよく、
      途中に改行が含まれていてもかまわない。
    
    メタ情報ブロックはアイテムのあとに続けて入れ子にすることができる。これはそのアイテムに関連
    するプロンプトとして解釈すること。続けて二つ以上のメタ情報ブロックを配置することはできない。
    また、入れ子は1段階のみ許可し、それ以上は無視する。
    正: <&annotation<&args, &kwargs, &return value>>
    誤: <&annotation><&args, &kwargs>>   # 2つ以上のメタ情報ブロックを連続して書いている → 不可
    誤: <&annotation<&args<&nested>>>>   # 入れ子が2段階になっている → 不可（1段階のみ許可）

identifer:
    他の場所から参照するための識別子
    定義は各ブロック中で行われる
    - BLOCKID:
        ブロックの識別子、省略可能
    - MEMBER:
        - ブロックに複数の要素が存在する可能性のある場合に、その中の一つを
          抽象的に指すための識別子
          例: all_public = [<+put all MEMBER name, &must, &name, &str, !value>]
        - ブロック中()で囲まれた識別子はMEMBERとなる
        - 任意の数定義することができる
        - (MEMBER<...>)としてメタ情報を記述することができる

ブロック:
    ::...:: ... ::endof BLOCKID:: -> 範囲ブロック
        構造:
            ::BLOCKID: start (MEMBER) <...>::
            ...
            ::end BLOCKID::
        - 疑似コード中に現れるpythonの実コード部分の範囲指定を行いメタ情報を与える
        - ID:は省略することができる
        - 各ブロックにはメタ情報を含むことができる。必ず、<...>の中に含めて記述すること
        - MEMBERは開始タグでのみ宣言することができる
        - 特に、startからendに囲まれた部分に(...)があったとしてもそれはMEMBERにはならない

    $...$ -> 定義ブロック
        後から識別・参照するために、定義をラベル単位でまとめるブロック
        構造:
            $BLOCKID: define (MEMBER) <...>$
        - BLOCKID:は省略することができる

v1.0からの変更:
    置き換えブロックの削除
    補完ブロックの削除
    実コードの範囲指定を汎用的な範囲指定に拡張
    それに伴うIDの定義修正
    ICIDの削除
    IDをidentifierにリネーム
    identifierに分類を追加
        BLOCKID, MEMBER
    メタ情報の配置に関する仕様を変更
    冗長な表現の修正
